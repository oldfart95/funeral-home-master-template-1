---
import Layout from '@/layouts/Layout.astro';
import siteDetails from '@/config/siteDetails';
import ServiceNav from '@/components/ServiceNav.astro';
import Accordion from '@/components/Accordion.astro';
import OurStory from '@/components/OurStory.astro';
import OngoingCare from '@/components/OngoingCare.astro';
import ContactForm from '@/components/ContactForm.astro';
import ResponsiveImage from '@/components/ResponsiveImage.astro';
import { getFAQs } from '@/utils/faqs';
import { images, getLogoImage } from '@/utils/images';

// Determine company name based on page type and language
const pathname = Astro.url.pathname;
const isSpanish = pathname.includes('-es') || pathname === '/es';
const isCatholic = pathname.includes('catholic');
const isVeteran = pathname.includes('veteran');

function getCompanyName(): string {
  if (isVeteran) {
    return isSpanish ? 'Cuidado de Veteranos' : 'Veteran Care';
  } else if (isCatholic) {
    return isSpanish ? 'Cuidado Católico' : 'Catholic Care';
  } else {
    return isSpanish ? 'Cuidado Asequible' : 'Affordable Care';
  }
}

const displayCompanyName = getCompanyName();
const logoImage = getLogoImage(isVeteran, isCatholic, isSpanish);

// Generate service-specific structured data
function generateServiceSchema() {
  const baseUrl = Astro.site?.href || Astro.url.origin;
  const phone = siteDetails.phone && siteDetails.phone !== '(111) 111-1111' 
    ? siteDetails.phone 
    : '(111) 111-1111';
  
  const schema = {
    '@context': 'https://schema.org',
    '@type': 'Service',
    name: 'Servicios de Cremación Católica',
    description: 'Servicios de cremación católica siguiendo las enseñanzas de la Iglesia. Entierro apropiado de cenizas en tierra sagrada. Le guiamos a través del proceso de cremación católica apropiado.',
    provider: {
      '@type': 'FuneralHome',
      name: siteDetails.companyName,
      telephone: phone,
      url: baseUrl
    },
    serviceType: 'Funeral Service',
    areaServed: {
      '@type': 'Country',
      name: 'United States'
    },
    offers: {
      '@type': 'Offer',
      priceRange: '$$',
      description: 'Servicios de cremación católica que honran las tradiciones de la Iglesia'
    }
  };
  
  return JSON.stringify(schema);
}

const serviceSchema = generateServiceSchema();
---

<Layout 
  title="Servicios de Cremación Católica - Planificar con Anticipación" 
  description="Servicios de cremación católica siguiendo las enseñanzas de la Iglesia. Entierro apropiado de cenizas en tierra sagrada. Le guiamos a través del proceso de cremación católica apropiado."
  pageType="catholic" 
  language="es"
>
  <!-- Service-specific Structured Data -->
  <script type="application/ld+json" set:html={serviceSchema} />
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-primary via-primary-dark to-primary-light text-white py-8 md:py-32 overflow-hidden">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <ResponsiveImage
        src={images.hero}
        alt="Servicios de cremación católica"
        class="w-full h-full object-cover blur-sm"
        loading="eager"
        fetchpriority="high"
        sizes="100vw"
        widths={[640, 768, 1024, 1280, 1920]}
      />
      <!-- Dark overlay for text readability -->
      <div class="absolute inset-0 bg-gradient-to-br from-primary/40 via-primary-dark/40 to-primary-light/40"></div>
    </div>
    
    <!-- Content -->
    <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-6 md:gap-12 min-h-[300px] md:min-h-[500px] py-4 md:py-0">
        <!-- Company Name - Left/Top -->
        <div class="flex-1 w-full md:w-auto">
          <ResponsiveImage
            src={logoImage}
            alt={displayCompanyName}
            class="mb-4 md:mb-6 w-auto h-12 sm:h-14 md:h-20 lg:h-28 xl:h-36 drop-shadow-lg bg-white/90 rounded-lg p-2 sm:p-2.5 md:p-3 lg:p-3.5 xl:p-4 shadow-xl"
            sizes="(max-width: 640px) 48px, (max-width: 768px) 56px, (max-width: 1024px) 80px, (max-width: 1280px) 112px, 144px"
            widths={[48, 56, 80, 112, 144]}
            loading="eager"
          />
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-heading font-bold drop-shadow-lg leading-hero tracking-hero">
            {displayCompanyName}
          </h1>
        </div>
        
        <!-- Hero Text - Center Right -->
        <div class="flex-1 w-full md:flex-none md:w-1/2 lg:w-2/5 text-left md:text-right mt-4 md:mt-0">
          <h2 class="text-xl sm:text-2xl md:text-4xl lg:text-5xl font-heading font-bold mb-3 md:mb-6 drop-shadow-lg leading-hero tracking-hero">
            Planificar con Anticipación para la Tranquilidad y la Fe
          </h2>
          <p class="text-sm sm:text-base md:text-lg lg:text-xl text-white/95 leading-relaxed drop-shadow-md text-left md:text-right">
            Pensar en el final de la vida puede ser difícil. Sin embargo, hacer planes ahora es uno de los mejores regalos que puede darle a su familia. Para los católicos, planificar con anticipación también es una forma de mostrar nuestra fe. Creemos que la muerte no es el final. Es un cambio. Creemos que estaremos con Dios.
          </p>
        </div>
      </div>
    </div>
    
    <!-- Attribution Footnote -->
    <div class="absolute bottom-0 right-0 z-10 px-4 sm:px-6 lg:px-8 pb-3 md:pb-4">
      <p class="text-xs sm:text-sm text-white/80 drop-shadow-md text-right">
        Proporcionado por Arbaugh-Pearce-Greenisen & Sons
      </p>
    </div>
  </section>

  <!-- Introductory Block -->
  <section class="py-8 md:py-12 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-secondary p-6 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
          <p class="text-base md:text-lg text-text leading-relaxed text-center">
            Ofrecemos servicios completos de cremación y entierro para familias católicas. Ambas opciones están disponibles y son plenamente respetadas dentro de las enseñanzas de la Iglesia Católica. <strong>Importante:</strong> La Iglesia Católica requiere que todos los restos, ya sean cremados o no, deben ser enterrados en tierra consagrada, como un cementerio católico. Este requisito sagrado honra la dignidad del cuerpo humano y refleja nuestra fe en la resurrección. Todos los arreglos se alinean con las enseñanzas católicas y los deseos de su familia.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Navigation -->
  <ServiceNav />
  <!-- La Iglesia Católica y la Cremación -->
    <section class="py-10 md:py-24 bg-secondary">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
            La Iglesia Católica y la Cremación
          </h2>
          <div class="bg-white p-5 md:p-8 rounded-lg shadow-sm space-y-4">
            <p class="text-sm md:text-base text-text leading-relaxed">
              Durante mucho tiempo, la Iglesia Católica no permitía la cremación. En 1963, la Iglesia cambió esta regla. Ahora, los católicos pueden ser cremados. Sin embargo, la Iglesia todavía prefiere que el cuerpo sea enterrado. Esto es porque Jesús fue enterrado en una tumba. Queremos seguir Su ejemplo.
            </p>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Aunque la cremación está permitida, hay reglas especiales que debemos seguir. Estas reglas muestran respeto por el cuerpo humano. Nuestros cuerpos son sagrados. Son "templos del Espíritu Santo". Creemos que un día, Dios resucitará nuestros cuerpos de nuevo. Por esto, debemos tratar las cenizas con el mismo respeto que un cuerpo completo.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Important Rules for Catholic Cremation: The Official Church Laws -->
    <section class="py-10 md:py-24 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
            Reglas Importantes para la Cremación Católica: Las Leyes Oficiales de la Iglesia
          </h2>
          <div class="bg-secondary p-5 md:p-8 rounded-lg shadow-sm">
            <p class="text-sm md:text-base text-text leading-relaxed mb-6">
              Si elige la cremación, las Diócesis de Youngstown, Cleveland y Pittsburgh siguen las reglas oficiales del Vaticano y el Código de Derecho Canónico. Estas leyes aseguran que tratemos nuestros cuerpos con respeto.
            </p>
            <ol class="space-y-4 text-sm md:text-base text-text">
              <li class="flex items-start">
                <span class="font-bold text-primary mr-3">1.</span>
                <span><strong>Las Cenizas Deben Permanecer en un Lugar Sagrado (Instrucción No. 5):</strong> La Iglesia dice que las cenizas deben ser colocadas en un lugar sagrado, como un cementerio o una pared especial llamada columbario. No puede guardar las cenizas en casa en un estante o en un armario. Esto permite que toda la comunidad de la Iglesia recuerde y ore por usted.</span>
              </li>
              <li class="flex items-start">
                <span class="font-bold text-primary mr-3">2.</span>
                <span><strong>Tierra Sagrada (Canon 1176):</strong> Aunque la cremación está permitida, la Iglesia todavía prefiere un cementerio católico. Esta es "Tierra Santa". Muestra que creemos que resucitaremos algún día, y le da a su familia un lugar especial para visitar y orar.</span>
              </li>
              <li class="flex items-start">
                <span class="font-bold text-primary mr-3">3.</span>
                <span><strong>No Esparcir (Instrucción No. 7):</strong> No se permite esparcir cenizas. No puede dejarlas ir en el viento, en el suelo o sobre el agua.</span>
              </li>
              <li class="flex items-start">
                <span class="font-bold text-primary mr-3">4.</span>
                <span><strong>No Dividir las Cenizas (Instrucción No. 6 y 7):</strong> Todas las cenizas deben permanecer juntas en un contenedor. No puede dividirlas entre diferentes personas. Tampoco puede ponerlas en joyas, como collares, o convertirlas en arte.</span>
              </li>
              <li class="flex items-start">
                <span class="font-bold text-primary mr-3">5.</span>
                <span><strong>Entierro en el Mar (Instrucción No. 7):</strong> No puede arrojar cenizas sobre las olas. Sin embargo, puede tener un "entierro en el mar" si las cenizas están en un contenedor pesado y respetuoso que se hunde hasta el fondo. Esto es igual que ser enterrado en el suelo.</span>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </section>

    <!-- ¿Por Qué Seguimos Estas Reglas? -->
    <section class="py-10 md:py-24 bg-secondary">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
            ¿Por Qué Seguimos Estas Reglas?
          </h2>
          <div class="bg-white p-5 md:p-8 rounded-lg shadow-sm">
            <p class="text-sm md:text-base text-text leading-relaxed">
              Estas reglas pueden parecer estrictas, pero están ahí por una razón. Nos recuerdan que pertenecemos a Dios. Cuando somos enterrados en un cementerio, estamos descansando con otros miembros de nuestra familia de la Iglesia. Estamos esperando juntos el día en que Jesús regrese. Mantener las cenizas juntas muestra que somos una persona completa. No queremos ser esparcidos o separados. Queremos descansar en paz en un lugar santo.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Catholic Funeral Options -->
    <section class="py-10 md:py-24 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-3 md:mb-4 text-center">
            Opciones de Funeral Católico con Cremación
          </h2>
          <p class="text-base md:text-lg text-text text-center mb-6 md:mb-8 max-w-3xl mx-auto italic">
            Un enfoque moderno a la tradición, ofreciendo flexibilidad y remembranza personalizada.
          </p>
          <p class="text-base md:text-xl text-text text-center mb-6 md:mb-12">
            Hay tres formas principales de tener un funeral católico con cremación. Puede elegir la que se ajuste a sus necesidades, pero la Iglesia tiene una opción favorita.
          </p>
          <div class="grid md:grid-cols-3 gap-4 md:gap-8">
            <!-- Option 1: Traditional -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <div class="flex items-center gap-3 mb-3 md:mb-4">
                <svg class="w-8 h-8 md:w-10 md:h-10 text-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                <h3 class="text-lg md:text-2xl font-heading font-bold text-primary">
                  La Elección Tradicional<br />
                  <span class="text-base md:text-lg font-normal text-accent">(Preferida)</span>
                </h3>
              </div>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                Esto es lo que la Iglesia recomienda más.
              </p>
              <ol class="space-y-2 md:space-y-3 text-sm md:text-base text-text list-decimal list-inside">
                <li><strong>La Visita:</strong> Familiares y amigos se reúnen en la funeraria para despedirse. El cuerpo está presente en un ataúd. Esto ayuda a las personas a aceptar que la muerte es real. Les da la oportunidad de consolarse mutuamente.</li>
                <li><strong>La Misa Funeraria:</strong> El cuerpo es llevado a la Iglesia. El sacerdote ora por la persona y bendice el cuerpo. Esta es una Misa muy especial.</li>
                <li><strong>Cremación:</strong> Después de que termine la Misa, el cuerpo es llevado para ser cremado.</li>
                <li><strong>Entierro:</strong> Más tarde, la familia se reúne en el cementerio para enterrar las cenizas.</li>
              </ol>
            </div>

            <!-- Option 2: Memorial -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <div class="flex items-center gap-3 mb-3 md:mb-4">
                <svg class="w-8 h-8 md:w-10 md:h-10 text-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
                <h3 class="text-lg md:text-2xl font-heading font-bold text-primary">
                  La Elección Conmemorativa
                </h3>
              </div>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                A veces, el cuerpo no puede estar en la Misa.
              </p>
              <ol class="space-y-2 md:space-y-3 text-sm md:text-base text-text list-decimal list-inside">
                <li><strong>Cremación Primero:</strong> El cuerpo es cremado antes del funeral.</li>
                <li><strong>La Misa Funeraria:</strong> La familia trae la urna con las cenizas a la Iglesia. El sacerdote aún puede celebrar la Misa Funeraria con las cenizas presentes. Las cenizas se colocan en una pequeña mesa cerca del altar.</li>
                <li><strong>Entierro:</strong> Después de la Misa, las cenizas son llevadas al cementerio para el entierro.</li>
              </ol>
            </div>

            <!-- Option 3: Direct -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <div class="flex items-center gap-3 mb-3 md:mb-4">
                <svg class="w-8 h-8 md:w-10 md:h-10 text-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h3 class="text-lg md:text-2xl font-heading font-bold text-primary">
                  La Elección Directa
                </h3>
              </div>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                Esta es la opción más simple, pero podría perder algunas oraciones importantes.
              </p>
              <ol class="space-y-2 md:space-y-3 text-sm md:text-base text-text list-decimal list-inside">
                <li><strong>Cremación Inmediata:</strong> El cuerpo es cremado de inmediato sin una vista.</li>
                <li><strong>Servicio de Oración:</strong> La familia podría tener un pequeño servicio de oración en la funeraria o en el cementerio.</li>
                <li><strong>Sin Misa Funeraria:</strong> Si no hay Misa, la familia se pierde las bendiciones especiales de la Iglesia. Siempre es mejor tratar de tener una Misa si puede.</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Notas de la Diócesis -->
    <section class="py-10 md:py-24 bg-secondary">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <div class="bg-white p-5 md:p-8 rounded-lg shadow-sm space-y-4">
            <h2 class="text-xl md:text-2xl font-heading font-bold text-primary mb-4 md:mb-6">
              Notas Importantes de la Diócesis
            </h2>
            <div class="space-y-3">
              <p class="text-sm md:text-base text-text leading-relaxed">
                <strong>Visita en la Iglesia:</strong> La visita en la iglesia está prohibida en la Diócesis de Youngstown. Muchas otras diócesis también prohíben la práctica de visita en la iglesia antes de la misa. Por favor, consulte con su diócesis local para pautas específicas.
              </p>
              <p class="text-sm md:text-base text-text leading-relaxed">
                <strong>Entierro No Católico:</strong> Puede ser necesario permiso para el entierro de no católicos en su cementerio. Por favor, consulte con su cementerio católico local para los requisitos.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

  <!-- Questions About Planning Section -->
  <section class="py-10 md:py-24 bg-secondary">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
          Preguntas Sobre la Planificación
        </h2>
        <div class="grid md:grid-cols-3 gap-4 md:gap-8 mb-8 md:mb-12">
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Ayuda a Su Familia
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Proporciona claridad y tranquilidad para su familia al documentar sus preferencias con anticipación. Su familia no tendrá que adivinar lo que usted quería.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Ahorra Dinero
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Opciones de prefinanciación para fijar las tarifas de hoy. Esto protege a su familia de los costos crecientes en el futuro. El dinero se mantiene seguro en una cuenta especial hasta que se necesite.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Es Su Elección
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Usted decide exactamente cómo quiere ser recordado. Puede asegurarse de que su funeral siga las reglas de la Iglesia Católica.
            </p>
          </div>
        </div>
        <div class="bg-white p-4 md:p-8 rounded-lg shadow-sm">
          <h3 class="text-xl md:text-2xl font-heading font-bold text-primary mb-6 text-center">
            Preguntas Comunes Sobre Planificar con Anticipación
          </h3>
          <Accordion 
            language="es"
            items={getFAQs('es', 'catholic', 'cremation')}
          />
        </div>
      </div>
    </div>
  </section>

  <OngoingCare language={isSpanish ? 'es' : 'en'} />

  <ContactForm language={isSpanish ? 'es' : 'en'} />
</Layout>

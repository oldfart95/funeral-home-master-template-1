---
import Layout from '../layouts/Layout.astro';
import siteDetails from '../config/siteDetails';
import ServiceNav from '../components/ServiceNav.astro';
---

<Layout title="Servicios de Entierro - Planificar con Anticipación" pageType="general" language="es">
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-primary via-primary-dark to-primary-light text-white py-12 md:py-32 overflow-hidden">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img 
        src="/images/hero.webp" 
        alt="Ambiente conmemorativo pacífico" 
        class="w-full h-full object-cover"
      />
      <!-- Dark overlay for text readability -->
      <div class="absolute inset-0 bg-gradient-to-br from-primary/40 via-primary-dark/40 to-primary-light/40"></div>
    </div>
    
    <!-- Content -->
    <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-3xl md:text-5xl lg:text-6xl font-heading font-bold mb-4 md:mb-6 drop-shadow-lg" style="line-height: 1.2; letter-spacing: -0.02em;">
          Planificar con Anticipación para la Tranquilidad
        </h1>
        <p class="text-lg md:text-2xl text-white/95 leading-relaxed drop-shadow-md">
          Pensar en el final de la vida puede ser difícil. Sin embargo, hacer planes ahora es uno de los mejores regalos que puede darle a su familia. Evita que se preocupen por lo que usted habría querido. También les ayuda a evitar decisiones difíciles durante un momento triste.
        </p>
      </div>
    </div>
  </section>

  <!-- Service Navigation -->
  <ServiceNav />

  <!-- Introductory Block -->
  <section class="py-8 md:py-12 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-secondary p-6 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
          <p class="text-base md:text-lg text-text leading-relaxed text-center">
            Ofrecemos servicios completos de cremación y entierro. Ambas opciones están disponibles y son igualmente respetadas. Elija el servicio que se alinee con sus deseos, creencias y presupuesto. <strong>Muchas familias eligen igualmente entre entierro y cremación - ofrecemos servicios completos para ambas opciones.</strong>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Burial Options Section -->
    <!-- Cremation Options Section -->
    <section class="py-10 md:py-24 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-3 md:mb-4 text-center">
            Opciones de Cremación
          </h2>
          <p class="text-base md:text-xl text-text text-center mb-6 md:mb-12 max-w-3xl mx-auto">
            Hay diferentes formas de manejar la cremación. Puede elegir la que se ajuste a su vida y su presupuesto.
          </p>
          <div class="grid md:grid-cols-3 gap-4 md:gap-8">
            <!-- Option 1: Direct Cremation -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <h3 class="text-lg md:text-2xl font-heading font-bold text-primary mb-3 md:mb-4">
                1. La Opción Simple<br />
                <span class="text-base md:text-lg font-normal">(Cremación Directa)</span>
              </h3>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                Esta es la opción más básica. Es para personas que quieren algo simple y privado.
              </p>
              <ul class="space-y-2 md:space-y-3 text-sm md:text-base text-text">
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>La funeraria recoge a su ser querido.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Tiene lugar la cremación.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>No hay funeral público ni visita.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>La familia recibe las cenizas para enterrar, esparcir o guardar en casa.</span>
                </li>
              </ul>
            </div>

            <!-- Option 2: Memorial Option -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <h3 class="text-lg md:text-2xl font-heading font-bold text-primary mb-3 md:mb-4">
                2. La Opción Conmemorativa<br />
                <span class="text-base md:text-lg font-normal">(Viaje del Recuerdo)</span>
              </h3>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                Esta opción permite que amigos y familiares se despidan juntos.
              </p>
              <ul class="space-y-2 md:space-y-3 text-sm md:text-base text-text">
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Incluye un tiempo para que familiares y amigos visiten.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Incluye un servicio conmemorativo para compartir recuerdos.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Ocurre la cremación y las cenizas se devuelven a la familia.</span>
                </li>
              </ul>
            </div>

            <!-- Option 3: Full Service Option -->
            <div class="bg-secondary p-4 md:p-8 rounded-lg shadow-sm border-t-4 border-accent">
              <h3 class="text-lg md:text-2xl font-heading font-bold text-primary mb-3 md:mb-4">
                3. La Opción de Servicio Completo<br />
                <span class="text-base md:text-lg font-normal">(Viaje de la Vida)</span>
              </h3>
              <p class="text-sm md:text-base text-text mb-4 md:mb-6 leading-relaxed">
                Esto es como un funeral tradicional, pero termina con cremación en lugar de entierro.
              </p>
              <ul class="space-y-2 md:space-y-3 text-sm md:text-base text-text">
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Su cuerpo está preparado para que familiares y amigos puedan visitar y despedirse.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Se usa un "ataúd de alquiler" especial para el servicio.</span>
                </li>
                <li class="flex items-start">
                  <span class="text-accent mr-2">•</span>
                  <span>Después de que termine el servicio funerario, tiene lugar la cremación.</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Common Questions About Cremation -->
    <section class="py-10 md:py-24 bg-secondary">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-12 text-center">
            Preguntas Comunes Sobre la Cremación
          </h2>
          <div class="space-y-4 md:space-y-6">
            <div class="bg-white p-4 md:p-6 rounded-lg">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                ¿Mi familia puede verme antes de que sea cremado?
              </h3>
              <p class="text-sm md:text-base text-text leading-relaxed">
                Sí, en la mayoría de los casos. Si su familia quiere verlo una última vez, la funeraria puede prepararlo para una vista privada. Esto generalmente necesita suceder dentro de unos días.
              </p>
            </div>
            <div class="bg-white p-4 md:p-6 rounded-lg">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                ¿Necesito comprar una urna?
              </h3>
              <p class="text-sm md:text-base text-text leading-relaxed">
                Puede elegir entre muchos tipos diferentes de urnas. Algunas están hechas de madera, metal u otros materiales. Puede elegir una que se ajuste a su estilo.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

  <!-- Burial Options Section -->
    <section class="py-10 md:py-24 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-3 md:mb-4 text-center">
            Opciones de Entierro
          </h2>
          <p class="text-base md:text-xl text-text text-center mb-6 md:mb-12">
            Si prefiere el entierro en lugar de la cremación, también hay opciones asequibles para eso.
          </p>
          <div class="grid md:grid-cols-2 gap-4 md:gap-6">
            <div class="bg-secondary p-4 md:p-6 rounded-lg shadow-sm">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                Despedida Tradicional
              </h3>
              <p class="text-sm md:text-base text-text">
                Incluye preparar el cuerpo, una visita, un servicio funerario y un viaje al cementerio.
              </p>
            </div>
            <div class="bg-secondary p-4 md:p-6 rounded-lg shadow-sm">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                Despedida Simple
              </h3>
              <p class="text-sm md:text-base text-text">
                Similar a la tradicional, pero con un tiempo de visita más corto.
              </p>
            </div>
            <div class="bg-secondary p-4 md:p-6 rounded-lg shadow-sm">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                Servicio en el Cementerio
              </h3>
              <p class="text-sm md:text-base text-text">
                Un servicio realizado directamente en el cementerio.
              </p>
            </div>
            <div class="bg-secondary p-4 md:p-6 rounded-lg shadow-sm">
              <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
                Entierro Inmediato
              </h3>
              <p class="text-sm md:text-base text-text">
                Entierro sin servicio público ni visita.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

  <!-- Shared Content: Why Plan Ahead -->
  <section class="py-10 md:py-24 bg-secondary">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
          ¿Por Qué Debería Planificar con Anticipación?
        </h2>
        <div class="grid md:grid-cols-3 gap-4 md:gap-8">
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Ayuda a Su Familia
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Su familia no tendrá que adivinar lo que usted quería. Usted escribe sus deseos para su servicio, si desea ser enterrado o cremado, y otros detalles.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Ahorra Dinero
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Puede pagar las cosas ahora. Esto protege a su familia de los costos crecientes en el futuro. El dinero se mantiene seguro en una cuenta de fideicomiso especial o de seguro hasta que se necesite.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              Es Su Elección
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Usted decide exactamente cómo quiere ser recordado.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Shared Content: Common Questions -->
  <section class="py-10 md:py-24 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-12 text-center">
          Preguntas Comunes
        </h2>
        <div class="space-y-4 md:space-y-6">
          <div class="bg-secondary p-4 md:p-6 rounded-lg">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
              ¿Puedo pagar todo antes de morir?
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Sí. Puede poner dinero en una cuenta segura (una póliza de seguro de vida, con la cual le ayudamos). Esto es algo muy cariñoso de hacer porque quita el estrés de su familia más tarde.
            </p>
          </div>
          <div class="bg-secondary p-4 md:p-6 rounded-lg">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
              ¿Qué pasa si muero mientras estoy viajando?
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Si está lejos de casa cuando fallece, su familia solo necesita llamar a la funeraria. Ellos hablarán con las autoridades locales y lo traerán de vuelta a casa.
            </p>
          </div>
          <div class="bg-secondary p-4 md:p-6 rounded-lg">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-2 md:mb-3">
              ¿Hay mucho papeleo?
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Puede haberlo, pero la funeraria ayudará. Guiarán a su familia a través de cada paso. Ayudan a notificar al Seguro Social y verificar cualquier beneficio de Veterano o dinero del seguro.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cemetery/Headstone Help Section -->
  <section class="py-10 md:py-24 bg-secondary">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-white p-5 md:p-12 rounded-lg shadow-sm border-t-4 border-accent">
          <h2 class="text-xl md:text-3xl font-heading font-bold text-primary mb-4 md:mb-6">
            Si no tenemos una parcela de cementerio o una lápida, ¿puede ayudarnos a elegir una?
          </h2>
          <p class="text-sm md:text-lg text-text leading-relaxed">
            Sí, absolutamente. Estamos aquí para guiarlo a través de estas decisiones. Mantenemos un directorio completo de cementerios locales y sus precios para ayudarlo a encontrar un lugar de descanso pacífico que sea adecuado para su familia. También podemos conectarlo con expertos locales de confianza para ayudarlo a diseñar una hermosa lápida o marcador. No tiene que tomar estas decisiones solo; nos aseguraremos de que tenga todas las opciones que necesita.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section id="contact" class="py-10 md:py-24 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-2xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-3 md:mb-4 text-center">
          Comience Hoy
        </h2>
        <p class="text-base md:text-xl text-text text-center mb-6 md:mb-12">
          Contáctenos para comenzar a planificar con anticipación para la tranquilidad.
        </p>
        <div class="bg-secondary p-5 md:p-12 rounded-lg shadow-sm">
          <form id="contact-form" class="space-y-4 md:space-y-6">
            <!-- Honeypot field for spam prevention -->
            <input type="text" name="honeypot" style="display: none;" tabindex="-1" autocomplete="off" />
            
            <div>
              <label for="name" class="block text-sm font-semibold text-primary mb-2">
                Nombre Completo *
              </label>
              <input
                type="text"
                id="name"
                name="name"
                autocomplete="name"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-accent focus:border-transparent"
                placeholder="Su nombre"
              />
            </div>
            
            <div>
              <label for="email" class="block text-sm font-semibold text-primary mb-2">
                Dirección de Correo Electrónico *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                autocomplete="email"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-accent focus:border-transparent"
                placeholder="su@correo.com"
              />
            </div>
            
            <div>
              <label for="phone" class="block text-sm font-semibold text-primary mb-2">
                Número de Teléfono
              </label>
              <input
                type="tel"
                id="phone"
                name="phone"
                autocomplete="tel"
                class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-accent focus:border-transparent"
                placeholder="(330) 332-4401"
              />
            </div>
            
            <div>
              <label for="message" class="block text-sm font-semibold text-primary mb-2">
                Mensaje *
              </label>
              <textarea
                id="message"
                name="message"
                autocomplete="off"
                required
                rows="5"
                class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-accent focus:border-transparent"
                placeholder="Cuéntenos cómo podemos ayudarlo a planificar con anticipación..."
              ></textarea>
            </div>
            
            <button
              type="submit"
              class="w-full bg-accent text-white px-6 py-3 rounded-md font-semibold text-lg hover:bg-accent-dark transition shadow-sm"
            >
              Enviar Mensaje
            </button>
            
            <div id="form-message" class="hidden mt-4 p-4 rounded-md"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-10 md:py-20 bg-primary text-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-xl md:text-3xl font-heading font-bold mb-3 md:mb-4">
        ¿Listo para Comenzar a Planificar?
      </h2>
      <p class="text-base md:text-lg mb-4 md:mb-6 text-white/90">
        Nuestro equipo compasivo está aquí para guiarlo a través de cada paso.
      </p>
      <a
        href={`tel:${siteDetails.phone.replace(/\D/g, '')}`}
        class="inline-block bg-accent text-white px-8 py-3 rounded-md font-semibold text-lg hover:bg-accent-dark transition shadow-sm"
      >
        Llame {siteDetails.phone}
      </a>
    </div>
  </section>

  <script>
    // Contact form handling
    const form = document.getElementById('contact-form');
    const messageDiv = document.getElementById('form-message');

    form?.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = {
        name: (document.getElementById('name') as HTMLInputElement).value,
        email: (document.getElementById('email') as HTMLInputElement).value,
        phone: (document.getElementById('phone') as HTMLInputElement).value,
        message: (document.getElementById('message') as HTMLTextAreaElement).value,
        honeypot: (document.querySelector('input[name="honeypot"]') as HTMLInputElement).value,
      };

      // Show loading state
      const submitButton = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      const originalText = submitButton.textContent;
      submitButton.textContent = 'Enviando...';
      submitButton.disabled = true;
      messageDiv.classList.add('hidden');

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData),
        });

        const data = await response.json();

        if (response.ok) {
          messageDiv.className = 'mt-4 p-4 rounded-md bg-green-100 text-green-800';
          messageDiv.textContent = data.message || 'Gracias por su mensaje. Nos pondremos en contacto con usted pronto.';
          form.reset();
        } else {
          messageDiv.className = 'mt-4 p-4 rounded-md bg-red-100 text-red-800';
          messageDiv.textContent = data.error || 'Ocurrió un error. Por favor, intente nuevamente.';
        }
      } catch (error) {
        messageDiv.className = 'mt-4 p-4 rounded-md bg-red-100 text-red-800';
        messageDiv.textContent = 'Ocurrió un error. Por favor, intente nuevamente o llámenos directamente.';
      } finally {
        messageDiv.classList.remove('hidden');
        submitButton.textContent = originalText;
        submitButton.disabled = false;
      }
    });
  </script>
</Layout>

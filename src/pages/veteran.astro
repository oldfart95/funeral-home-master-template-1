---
import Layout from '../layouts/Layout.astro';
import siteDetails from '../config/siteDetails';
import ServiceChoicePortal from '../components/ServiceChoicePortal.astro';
import Accordion from '../components/Accordion.astro';
import OurStory from '../components/OurStory.astro';
import OngoingCare from '../components/OngoingCare.astro';
import ContactForm from '../components/ContactForm.astro';

// Determine company name based on page type and language
const pathname = Astro.url.pathname;
const isSpanish = pathname.includes('-es') || pathname === '/es';
const isCatholic = pathname.includes('catholic');
const isVeteran = pathname.includes('veteran');

function getCompanyName(): string {
  if (isVeteran) {
    return isSpanish ? 'Cuidado de Veteranos' : 'Veteran Care';
  } else if (isCatholic) {
    return isSpanish ? 'Cuidado Cat√≥lico' : 'Catholic Care';
  } else {
    return isSpanish ? 'Cuidado Asequible' : 'Affordable Care';
  }
}

function getLogoPath(): string {
  if (isVeteran) {
    return '/images/VeteranLogo.webp';
  } else if (isCatholic) {
    return isSpanish ? '/images/SpanishCathLogo.webp' : '/images/CatholicLogo.webp';
  } else {
    return isSpanish ? '/images/SpanishAffLogo.webp' : '/images/AffCareLogo.webp';
  }
}

const displayCompanyName = getCompanyName();
const logoPath = getLogoPath();
---

<Layout 
  title="Veteran Services - Planning Ahead" 
  description="Veteran funeral and cremation services with specialized benefits assistance. We honor our veterans and help you access all eligible benefits."
  pageType="veteran" 
  language="en"
>
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-primary via-primary-dark to-primary-light text-white py-8 md:py-32 overflow-hidden">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img 
        src="/images/hero.webp"
        srcset="/images/hero-640.webp 640w,
                /images/hero.webp 970w"
        sizes="(max-width: 640px) 640px,
               970px"
        loading="eager"
        fetchpriority="high"
        alt="Veteran funeral and cremation services" 
        class="w-full h-full object-cover blur-sm"
      />
      <!-- Dark overlay for text readability -->
      <div class="absolute inset-0 bg-gradient-to-br from-primary/40 via-primary-dark/40 to-primary-light/40"></div>
    </div>
    
    <!-- Content -->
    <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-6 md:gap-12 min-h-[300px] md:min-h-[500px] py-4 md:py-0">
        <!-- Company Name - Left/Top -->
        <div class="flex-1 w-full md:w-auto">
          <img 
            src={logoPath}
            alt={displayCompanyName}
            class="mb-4 md:mb-6 w-auto h-12 sm:h-14 md:h-20 lg:h-28 xl:h-36 drop-shadow-lg bg-white/90 rounded-lg p-2 sm:p-2.5 md:p-3 lg:p-3.5 xl:p-4 shadow-xl"
            loading="eager"
          />
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-heading font-bold drop-shadow-lg" style="line-height: 1.2; letter-spacing: -0.02em;">
            {displayCompanyName}
          </h1>
        </div>
        
        <!-- Hero Text - Center Right -->
        <div class="flex-1 w-full md:flex-none md:w-1/2 lg:w-2/5 text-left md:text-right mt-4 md:mt-0">
          <h2 class="text-xl sm:text-2xl md:text-4xl lg:text-5xl font-heading font-bold mb-3 md:mb-6 drop-shadow-lg" style="line-height: 1.2; letter-spacing: -0.02em;">
            Planning Ahead for Peace of Mind
          </h2>
          <p class="text-sm sm:text-base md:text-lg lg:text-xl text-white/95 leading-relaxed drop-shadow-md text-left md:text-right">
            We honor our veterans and their families with specialized services and benefits assistance. Making plans now is one of the best gifts you can give to your family.
          </p>
        </div>
      </div>
    </div>
    
    <!-- Attribution Footnote -->
    <div class="absolute bottom-0 right-0 z-10 px-4 sm:px-6 lg:px-8 pb-3 md:pb-4">
      <p class="text-xs sm:text-sm text-white/80 drop-shadow-md text-right">
        Provided by Arbaugh-Pearce-Greenisen & Sons
      </p>
    </div>
  </section>

  <OurStory language={isSpanish ? 'es' : 'en'} />

  <ServiceChoicePortal
    cremationHeadline="Veteran Honors"
    cremationBody="Cremation services that recognize and honor military service. We help you access veteran benefits and ensure your service is remembered with the dignity and respect you've earned."
    cremationLink={isSpanish ? '/veteran-cremation-es' : '/veteran-cremation'}
    burialHeadline="Traditional Rites"
    burialBody="Burial services with full military honors. We coordinate with the VA to ensure you receive all eligible benefits, including burial allowances, headstones, and cemetery services."
    burialLink={isSpanish ? '/veteran-burial-es' : '/veteran-burial'}
  />


  <!-- Veteran-Specific Content Section -->
  <section class="py-10 md:py-24 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
          Veteran Services
        </h2>
        <div class="bg-secondary p-5 md:p-8 rounded-lg shadow-sm">
          <p class="text-sm md:text-base text-text leading-relaxed mb-6">
            <!-- Content will be provided -->
            We honor our veterans and their families with specialized services and benefits assistance.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Planning & FAQ Section -->
  <section class="py-10 md:py-24 bg-secondary">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl md:text-4xl font-heading font-bold text-primary mb-6 md:mb-8 text-center">
          Planning & FAQ
        </h2>
        <div class="grid md:grid-cols-3 gap-4 md:gap-8 mb-8 md:mb-12">
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              It Helps Your Family
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              It provides clarity and peace of mind for your family by documenting your preferences in advance. Your family won't have to guess what you wanted.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              It Saves Money
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              Pre-funding options to lock in today's rates. This protects your family from rising costs in the future. The money is kept safe in a special trust or insurance account until it is needed.
            </p>
          </div>
          <div class="bg-white p-4 md:p-6 rounded-lg shadow-sm border-t-4 border-accent">
            <h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-3 md:mb-4">
              It is Your Choice
            </h3>
            <p class="text-sm md:text-base text-text leading-relaxed">
              You get to decide exactly how you want to be remembered.
            </p>
          </div>
        </div>
        <div class="bg-white p-4 md:p-8 rounded-lg shadow-sm">
          <h3 class="text-xl md:text-2xl font-heading font-bold text-primary mb-6 text-center">
            Common Questions About Planning Ahead
          </h3>
          <Accordion 
            language="en"
            items={[
              {
                question: "What benefits are available for veterans?",
                answer: "Veterans and their families may be eligible for various benefits including burial allowances, headstones, and cemetery services."
              },
              {
                question: "Can I pay for everything before I die?",
                answer: "Yes. You can put money into a safe account (a Life Insurance policy, which we help with). This is a very caring thing to do because it takes the stress off your family later."
              },
              {
                question: "What if I die while I am traveling?",
                answer: "If you are away from home when you pass away, your family just needs to call the funeral home. They will talk to the local authorities and bring you back home."
              },
              {
                question: "Is there a lot of paperwork?",
                answer: "There can be, but the funeral home will help. They will guide your family through every step. They help notify Social Security and check for any Veteran benefits or insurance money."
              }
            ]}
          />
        </div>
      </div>
    </div>
  </section>

  <OngoingCare language={isSpanish ? 'es' : 'en'} />

  <ContactForm language={isSpanish ? 'es' : 'en'} />
</Layout>
